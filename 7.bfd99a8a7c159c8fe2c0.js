(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/Jy5":function(t,i,e){"use strict";e.r(i),e.d(i,"ApplicationDetailsPageModule",(function(){return v}));var o=e("ofXK"),r=e("fXoL"),a=e("3Pt+"),n=e("tyNb"),p=e("bCOB"),c=e("q+4a");function l(t,i){if(1&t&&(r.Kb(0,"div"),r.Kb(1,"h1"),r.gc(2),r.Jb(),r.Kb(3,"h1"),r.gc(4),r.Jb(),r.Kb(5,"h1"),r.gc(6),r.Jb(),r.Kb(7,"h1"),r.gc(8),r.Jb(),r.Kb(9,"h1"),r.gc(10),r.Jb(),r.Kb(11,"h1"),r.gc(12),r.Jb(),r.Kb(13,"h1"),r.gc(14),r.Jb(),r.Kb(15,"h1"),r.gc(16),r.Jb(),r.Jb()),2&t){const t=r.Tb(2);r.xb(2),r.ic("App id: ",null==t._app?null:t._app.id,""),r.xb(2),r.ic("Name: ",null==t._app?null:t._app.name,""),r.xb(2),r.ic("Version: ",null==t._app?null:t._app.version,""),r.xb(2),r.ic("Price: ",null==t._app?null:t._app.price,""),r.xb(2),r.ic("InputData Format Description: ",null==t._app?null:t._app.inputDataFormatDescription,""),r.xb(2),r.ic("Output Data Format Description: ",null==t._app?null:t._app.outputDataFormatDescription,""),r.xb(2),r.ic("Application Diagram Id: ",null==t._app?null:t._app.applicationDiagramId,""),r.xb(2),r.ic("Tags: ",t.tags,"")}}function b(t,i){if(1&t){const t=r.Lb();r.Kb(0,"div"),r.Kb(1,"button",2),r.Rb("click",(function(){r.ac(t);const i=r.Tb();return i._editMode=!i._editMode})),r.gc(2," Edit "),r.Jb(),r.Ib(3,"hr"),r.Ib(4,"img",3),r.ec(5,l,17,8,"div",0),r.Jb()}if(2&t){const t=r.Tb(),i=r.Zb(2);r.xb(4),r.Wb("src",null==t._app?null:t._app.iconURL,r.bc),r.xb(1),r.Wb("ngIf",!t._editMode)("ngIfElse",i)}}function s(t,i){if(1&t&&(r.Kb(0,"option",24),r.gc(1),r.Jb()),2&t){const t=i.$implicit;r.Wb("value",t.id),r.xb(1),r.hc(t.id)}}function u(t,i){if(1&t){const t=r.Lb();r.Kb(0,"form",4),r.Rb("ngSubmit",(function(i){r.ac(t);const e=r.Tb();return e.onSubmit(e.checkoutForm.value,i)})),r.Kb(1,"div",5),r.Kb(2,"label",6),r.gc(3," version "),r.Jb(),r.Ib(4,"input",7),r.Jb(),r.Kb(5,"div",5),r.Kb(6,"label",8),r.gc(7," name "),r.Jb(),r.Ib(8,"input",9),r.Jb(),r.Kb(9,"div",5),r.Kb(10,"label",10),r.gc(11," applicationDiagramId "),r.Jb(),r.Kb(12,"select",11),r.ec(13,s,2,2,"option",12),r.Jb(),r.Jb(),r.Kb(14,"div",5),r.Kb(15,"label",13),r.gc(16," price "),r.Jb(),r.Ib(17,"input",14),r.Jb(),r.Kb(18,"div",5),r.Kb(19,"label",15),r.gc(20," iconURL "),r.Jb(),r.Ib(21,"input",16),r.Jb(),r.Kb(22,"div",5),r.Kb(23,"label",17),r.gc(24," inputDataFormatDescription "),r.Jb(),r.Ib(25,"input",18),r.Jb(),r.Kb(26,"div",5),r.Kb(27,"label",19),r.gc(28," outputDataFormatDescription "),r.Jb(),r.Ib(29,"input",20),r.Jb(),r.Kb(30,"div",5),r.Kb(31,"label",21),r.gc(32," tags "),r.Jb(),r.Ib(33,"input",22),r.Jb(),r.Kb(34,"button",23),r.gc(35),r.Jb(),r.Jb()}if(2&t){const t=r.Tb();r.Wb("formGroup",t.checkoutForm),r.xb(13),r.Wb("ngForOf",t.diagrams),r.xb(21),r.Wb("disabled",t.checkoutForm.invalid),r.xb(1),r.ic(" ","new"===t._id?"Add":"Update"," ")}}let m=(()=>{class t{constructor(t,i,e,o,r){this._activatedRoute=t,this._router=i,this._appsService=e,this._formBuilder=o,this._diagramService=r,this._editMode=!1,this._diagramService.getDiagrams().subscribe(t=>{this.diagrams=t});const n=this._activatedRoute.snapshot.paramMap.get("id");n&&(this._id=n,this._isNew="new"===this._id),"new"!==n?this._appsService.getApp(n).subscribe(t=>{if(this._app=t,null==t?void 0:t.tags){let i="";for(const e of t.tags)i+=e+",";this.tags=i}console.log(this._app),this.checkoutForm=this._formBuilder.group({version:[t.version,a.m.required],name:[t.name,a.m.required],applicationDiagramId:[t.applicationDiagramId,a.m.required],price:[t.price,a.m.required],iconURL:[t.iconURL,a.m.required],inputDataFormatDescription:[t.inputDataFormatDescription,a.m.required],outputDataFormatDescription:[t.outputDataFormatDescription,a.m.required],tags:[t.tags]})},t=>{var i;alert((null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.detail)||"Unknown error appeared...")}):this.checkoutForm=this._formBuilder.group({version:[1,a.m.required],name:["",a.m.required],applicationDiagramId:["",a.m.required],price:[1,a.m.required],iconURL:["",a.m.required],inputDataFormatDescription:["",a.m.required],outputDataFormatDescription:["",a.m.required],tags:[[],a.m.min(0)]})}ngOnInit(){}onSubmit(t,i){i.preventDefault(),console.log("customerData",t);const e=t.tags;t.tags=e?e.split(","):[],"new"===this._id?this._appsService.createApp(t).subscribe(t=>{alert("Dodano ComputationUnit!"),this._router.navigate(["development-shelf"])},t=>{var i;console.log(t),alert((null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.detail)||"Url must be valid url")}):this._appsService.updateApp(Object.assign(Object.assign({},t),{id:this._id})).subscribe(t=>{alert("Zauktualizowano ComputationUnit!"),this._router.navigate(["development-shelf"])},t=>{var i;console.log(t),alert((null===(i=null==t?void 0:t.error)||void 0===i?void 0:i.detail)||"Url must be valid url")})}}return t.\u0275fac=function(i){return new(i||t)(r.Hb(n.a),r.Hb(n.c),r.Hb(p.a),r.Hb(a.c),r.Hb(c.a))},t.\u0275cmp=r.Bb({type:t,selectors:[["app-application-details"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["newAppForm",""],[1,"btn","btn-primary",3,"click"],["alt","App's Image",1,"app-application__image",3,"src"],[1,"form-group",3,"formGroup","ngSubmit"],[1,"divForm"],["for","version",1,"labelForm"],["id","version","type","number","formControlName","version",1,"inputForm"],["for","name",1,"labelForm"],["id","name","type","text","formControlName","name",1,"inputForm"],["for","applicationDiagramId",1,"labelForm"],["id","applicationDiagramId","type","text","formControlName","applicationDiagramId",1,"inputForm"],[3,"value",4,"ngFor","ngForOf"],["for","price",1,"labelForm"],["id","price","type","number","formControlName","price",1,"inputForm"],["for","iconURL",1,"labelForm"],["id","iconURL","type","text","formControlName","iconURL",1,"inputForm"],["for","inputDataFormatDescription",1,"labelForm"],["id","inputDataFormatDescription","type","text","formControlName","inputDataFormatDescription",1,"inputForm"],["for","outputDataFormatDescription",1,"labelForm"],["id","outputDataFormatDescription","type","text","formControlName","outputDataFormatDescription",1,"inputForm"],["for","tags",1,"labelForm"],["id","tags","type","text","formControlName","tags",1,"inputForm"],["type","submit",1,"btn","btn-primary",3,"disabled"],[3,"value"]],template:function(t,i){if(1&t&&(r.ec(0,b,6,3,"div",0),r.ec(1,u,36,4,"ng-template",null,1,r.fc)),2&t){const t=r.Zb(2);r.Wb("ngIf",!i._isNew)("ngIfElse",t)}},directives:[o.j,a.o,a.h,a.e,a.j,a.b,a.g,a.d,a.l,o.i,a.i,a.n],styles:[".divForm[_ngcontent-%COMP%]{margin-bottom:10px}.labelForm[_ngcontent-%COMP%]{display:inline-block;width:30%;text-align:right;margin-right:5px}.inputForm[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}img[_ngcontent-%COMP%]{height:200px}"]}),t})(),d=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=r.Bb({type:t,selectors:[["app-application-details-page"]],decls:1,vars:0,template:function(t,i){1&t&&r.Ib(0,"app-application-details")},directives:[m],styles:[""]}),t})(),g=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(i){return new(i||t)},imports:[[o.b,a.k]]}),t})();const f=[{path:":id",component:d},{path:"**",redirectTo:"development-shelf"}];let v=(()=>{class t{}return t.\u0275mod=r.Fb({type:t}),t.\u0275inj=r.Eb({factory:function(i){return new(i||t)},imports:[[o.b,n.f.forChild(f),g]]}),t})()}}]);